{% extends 'blog/base.html' %}
{% load my_tags %}
{% block content %}
<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h1 class="display-4">Список статей</h1>
</div>

<div class="container">
    <div class="list-group">
        {% for blog in object_list %}
        <div class="list-group-item d-flex align-items-start mb-3">
            <div class="me-3" style="flex-shrink: 0;">
                <img src="{{ blog.image|media_filter }}" class="img-fluid" style="height: 180px; object-fit: cover;" alt="{{ blog.title }}">
            </div>
            <div>
                <h4 class="my-0 font-weight-normal">{{ blog.title }}</h4>
                <p class="text-muted">{{ blog.content|truncatechars:150 }}</p>
                <p class="text-muted" style="font-size: 0.9em;">Количество просмотров: {{ blog.number_views }}</p>
                <div class="btn-group mt-2" style="opacity: 0.7;">
                    <a class="btn btn-outline-secondary btn-sm" href="{% url 'blog:blog_detail' blog.pk %}" role="button">Перейти</a>
                    <a class="btn btn-outline-secondary btn-sm" href="{% url 'blog:blog_update' blog.pk %}" role="button">Редактировать</a>
                    <a class="btn btn-outline-danger btn-sm" href="{% url 'blog:blog_delete' blog.pk %}" role="button">Удалить</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<div class="row text-center mt-4">
    <div class="col-12">
        <a class="btn btn-primary" href="{% url 'blog:blog_create' %}" role="button">Создать новый блог</a>
    </div>
</div>
{% endblock %}
